# Weather MCP Server

天気予報情報を取得するためのMCPサーバーです。[天気予報API（livedoor天気互換）](https://weather.tsukumijima.net/)を使用して、地域IDから天気情報を取得します。
AIコーディングエージェントの習熟も兼ねているので、内容については未レビューのもの多く含むため一切の責任を負えません。
ソースコードの中身はもちろん、本Readmeやソースコード内のコメントなどについても参考にとどめていただき、必ずご自身でコードレビュー＆テストいただき内容を理解いただいたうえでご利用ください。
自己責任でのご利用をお願いします。

## 機能

- 地域IDを指定して天気予報を取得
- 今日・明日・明後日の天気情報
- 気温（最高・最低）
- 詳細な天気情報（風、波の高さなど）
- 気象庁の概況文

## インストール

```bash
npm install
npm run build
```

## 使用方法

### MCPサーバーとして実行

```bash
node build/index.js
```

### 利用可能なツール

#### get-forecast

地域IDを指定して天気予報を取得します。

**パラメータ:**
- `regionId` (string): 地域ID（例: 400040 = 福岡県久留米）

**使用例:**
```json
{
  "regionId": "400040"
}
```

### 主要な地域ID例

- 130010: 東京都東京
- 270000: 大阪府大阪
- 400040: 福岡県久留米
- 460010: 鹿児島県鹿児島
- 011000: 北海道札幌

詳細な地域IDリストは[気象庁の一次細分区域](https://www.jma.go.jp/bosai/forecast/const/area.json)を参照してください。

## API仕様

このサーバーは以下のAPIを使用しています：
- ベースURL: `https://weather.tsukumijima.net/api/forecast`
- エンドポイント: `?city={regionId}`

## レスポンス例

```
福岡県 久留米 の天気
発表時刻: 2024/01/01 05:00:00

概況:
九州北部地方は、高気圧に覆われて晴れています。

予報:
今日:
天気: 晴れ
最高気温: 15℃
最低気温: 5℃
詳細: 晴れ時々曇り
風: 北の風やや強く
---
明日:
天気: 曇り
最高気温: 12℃
最低気温: 3℃
詳細: 曇り一時雨
風: 北の風
---
```

## 変更履歴

- v1.0.0: 天気予報API（livedoor天気互換）への移行
  - WeatherAPI（api.weather.gov）から変更
  - 緯度経度指定から地域ID指定に変更
  - 日本国内の天気情報に対応
